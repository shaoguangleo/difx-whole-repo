<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>DiFX Python Interface: Task-Specific Classes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DiFX Python Interface
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="modules.html"><span>Example&#160;Programs</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Topics</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('taskSpecific.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Task-Specific Classes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Tasks That Can Be Performed With Their Own Classes or as Part of <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a></p>
<p>A number of the "high level" tasks that can be performed by the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class have specific classes that are associated with them. These classes can be instantiated by <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> though like-named methods. Alternatively, they can be instantiated externally, either with an instance of the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> as an argument, in which case they use that Client for their communication with the server; OR with no argument in which case they make themselves an inheriting class of the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class.</p>
<p>An example would be the <a class="el" href="classDiFXJobStatus_1_1Client.html" title="Class used to obtain the status of a job or jobs on the DiFX server. ">DiFXJobStatus.Client</a> class. This class can be used to obtain the "status" of a job, or list of jobs, on the DiFX server. It needs the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class to handle the communications with the DiFX server, so it inherits the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class. One way to create an instance of the <a class="el" href="classDiFXJobStatus_1_1Client.html" title="Class used to obtain the status of a job or jobs on the DiFX server. ">DiFXJobStatus.Client</a> class is without any arguments, in which case it runs as one would expect if it inherited the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class, with access to all of its methods: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">#  Create an instance of the JobStatus class</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;jobStatus = <a class="code" href="classDiFXJobStatus_1_1Client.html">DiFXJobStatus.Client</a>()</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">#  Employ DiFXControl.Client class methods to connect to the server</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;jobStatus.connect( ( <span class="stringliteral">&quot;localhost&quot;</span>, 50401 ) )</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">#  Get the job status you want</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;statusInfo = jobStatus.jobStatus( <span class="stringliteral">&quot;/full/path/to/input/file&quot;</span>, <span class="keyword">True</span> )</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">#  Parse and report happily</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;...</div>
</div><!-- fragment --><p>Alternatively, an existing instance of the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class can be used as an argument when instantiating the <a class="el" href="classDiFXJobStatus_1_1Client.html" title="Class used to obtain the status of a job or jobs on the DiFX server. ">DiFXJobStatus.Client</a> class. This allows you to utilize an existing connection: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">#  Create a DiFXControl.Client instance</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;difx = <a class="code" href="classDiFXControl_1_1Client.html">DiFXControl.Client</a>()</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;difx.connect( ( <span class="stringliteral">&quot;localhost&quot;</span>, 50401 ) )</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">#  Do some other stuff with the client</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;...</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#  Use it to obtain a job status</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;statusInfo = <a class="code" href="classDiFXJobStatus_1_1Client.html">DiFXJobStatus.Client</a>( difx ).jobStatus( <span class="stringliteral">&quot;/full/path/to/input/file&quot;</span>, <span class="keyword">True</span> )</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">#  Parse, etc...</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;...</div>
</div><!-- fragment --><p>The above approach isn't one that users are expected to employ - however, it is used by the <em>jobStatus()</em> convenience function in the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class, the code for which is here: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">def </span>jobStatus( self, path, shortStatus ):</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classDiFXJobStatus_1_1Client.html">DiFXJobStatus.Client</a>(self).jobStatus( path, shortStatus )</div>
</div><!-- fragment --><p>This convenience function allows you to obtain the job status as a method of the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">#  Create a DiFXControl.Client instance</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;difx = <a class="code" href="classDiFXControl_1_1Client.html">DiFXControl.Client</a>()</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;difx.connect( ( <span class="stringliteral">&quot;localhost&quot;</span>, 50401 ) )</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">#  Do some other stuff with the client</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;...</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">#  Use the client method to obtain a job status</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;statusInfo = difx.jobStatus( <span class="stringliteral">&quot;/full/path/to/input/file&quot;</span>, <span class="keyword">True</span> )</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">#  Parse away...</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;...</div>
</div><!-- fragment --><h3>Why Do This?</h3>
<p>There are several reasons for employing this odd structure: </p><ul>
<li>
It allows the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class to "do everything" - in the above example the Client instance can get a job status. This allows a program that is using the Client to do other things (monitor messages or whatever) to handle all interaction with the server. </li>
<li>
It provides a class specifically devoted to each task that inherits the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class. This seems to me an intuitive design - the Client is low-level communication, the task (in the example, obtaining a job status) is complex and employs the Client. </li>
<li>
It permits a logical division of the capabilities of the DiFX Python Interface into many source files instead of piling everything into source file for the <a class="el" href="classDiFXControl_1_1Client.html" title="Class for creating and manipulating a client connection to the DiFX server. ">DiFXControl.Client</a> class. Obviously there are other ways of doing this. </li>
</ul>
<p>Admittedly most of these reasons result from a wish to make things "look" the way they should to people employing the classes (thus making the whole interface easier to use).</p>
<p>Whether or not such a design is "good Python" is another matter - I suspect it is not. However, the interpreted nature of Python lets me get away with it. Arguably anything that works, and accomplishes something that could otherwise not be done, is good Python. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Dec 9 2015 16:23:23 for DiFX Python Interface by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
