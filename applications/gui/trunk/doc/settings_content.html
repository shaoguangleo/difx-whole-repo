<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta content="text/html; charset=windows-1252"
      http-equiv="Content-Type">
    <title>Settings Window</title>
    <link type="text/css" rel="stylesheet" href="style.css">
    <meta http-equiv="content-type" content="text/html;
      charset=windows-1252">
  </head>
  <body>
    <h1>DiFX GUI System Settings Window</h1>
    The DiFX GUI has a fairly large number of configurable settings that
    can be used to tailor its appearance and functionality to a
    particular purpose.&nbsp; All settings are saved to files when the
    GUI is shut down (or when the user requests it) to maintain
    consistency between sessions.&nbsp; Some settings, such as window
    sizes, are "invisible" in that the way to change them is to actually
    do something, like change the size of a window.&nbsp; Most, however,
    are collected in the System Settings Window where they are organized
    into categories based on their function:<br>
    <ul>
      <li><a href="#SETTINGS_FILE">Settings File</a> - controls the XML
        files used to store setting.&nbsp; Also lets you set the GUI
        title.</li>
      <li><a href="#DiFX_Control_Connection">DiFX Control Connection</a>
        - used to set up the TCP connection to the <i>guiServer</i>
        (and DiFX).</li>
      <li><a href="#DiFX_Message_Traffic">DiFX Message Traffic</a> -
        controls which messages are sent to/from DiFX.</li>
      <li><a href="#Job_Creation_Settings">Job Creation Settings</a> -
        controls how .vex files are used to create experiments.<br>
      </li>
      <li><a href="#Job%20Settings">Job Processing Settings</a> - used
        to control how jobs are processed and how scheduled jobs are
        run.<br>
      </li>
      <li><a href="#Database_Configuration">Database Configuration</a> -
        governs the use and configuration of a database for tracking
        DiFX jobs.<br>
      </li>
      <li><a href="#EOP_Settings">EOP Settings</a> - controls where and
        how EOP data are obtained.<br>
      </li>
      <li><a href="#Documentation_Settings">Documentation Locations</a>
        - used to set the location of items available through the "Help"
        menu button.<br>
      </li>
    </ul>
    <h2><a name="SETTINGS_FILE"></a>Settings File</h2>
    <p>When the GUI is started it attempts to read an XML file
      containing settings for all GUI parameters, window configurations,
      etc.&nbsp; This file can either be specified as the first command
      line argument when starting the GUI or a default file will be used
      (the default file is "conf/guiSettings.xml" under the directory
      specified by the environment variable "DIFXROOT", or, failing
      that, the user's directory).&nbsp; Failing to read either a
      specified file or the default file will cause internal default
      settings to be used which may or may not be attractive.&nbsp; When
      the GUI is exited the default XML file is written to reflect the
      GUI's current state such that it can be started again in the
      future essentially unchanged from where it was left.&nbsp;
      Failures to read or write files will generate pop-up warnings, but
      won't terminate the GUI's operation.<br>
    </p>
    <p>The Settings File section of the Settings Window can be used to
      pick a new XML file name for reading or writing.&nbsp; This can be
      useful if you want to save a specific GUI state for later use or
      load a previously saved state:<br>
      <br>
    </p>
    <div align="center"><img alt=""
        src="images/settings/settings_file.png" height="87" width="800"></div>
    <div align="left">
      <h5>Current</h5>
      <p>This field shows the full path to the XML file that was most
        recently read, either a user-specified file or the
        default.&nbsp; If this field is in red it indicates that the
        last read attempt failed for some reason and that whatever
        settings that existed previously are still in place.&nbsp; <br>
      </p>
      <h5>Open</h5>
      <p>Open can be used to open an existing XML file that contains GUI
        settings.&nbsp; A file browser will allow the file to be picked.<br>
      </p>
      <h5>Save</h5>
      <p>Save causes the current GUI settings to be written to the XML
        path in the "Current" field.<br>
      </p>
      <h5>Save As...</h5>
      <p>This button produces a file browser from which a path for the
        XML file can be picked.&nbsp; The XML file is written using the
        current settings.<br>
      </p>
      <h5>Defaults</h5>
      <p>The Defaults button will restore the GUI to internal defaults
        (not the default XML file settings).&nbsp;&nbsp;</p>
      <h5>GUI Title</h5>
      <p>The GUI Title is a simple text string that can be used to
        uniquely identify a settings configuration.&nbsp; The title will
        be applied to the top-level GUI window.<br>
      </p>
    </div>
    <h2><a name="DiFX_Control_Connection"></a>DiFX Control Connection</h2>
    <p>The DiFX Control Connection settings determine how the GUI
      communicates with and controls DiFX.&nbsp; In normal operation the
      GUI makes a TCP connection with the <span style="font-style:
        italic;">guiServer</span> process running on the DiFX "Host"
      node.&nbsp; To complicate matters however, there are actually
      three ways the GUI and DiFX can interact:<br>
    </p>
    <ol>
      <li>The TCP connection between the GUI and <span
          style="font-style: italic;">guiServer</span> is used for all
        controls and data exchanges.&nbsp; DiFX multicast message
        traffic is collected by <span style="font-style: italic;">guiServer</span>
        and relayed over the TCP socket to the GUI (for more information
        about message traffic, see the <a href="#Broadcast_Network">DiFX












          Multicast Messages</a> section below).&nbsp; This
        configuration must be used when the GUI is running outside the
        DiFX LAN, such that the multicast messages cannot be received
        directly.&nbsp; It is far and away the most tested
        configuration, and should be used if possible.<br clear="all">
        <br>
      </li>
      <li>The TCP connection between the GUI and <span
          style="font-style: italic;">guiServer</span> is used for
        controls and all data from <span style="font-style: italic;">guiServer</span>
        itself, however DiFX multicast messages are received directly
        using a UDP socket.&nbsp; Under some circumstances this could be
        the preferred arrangement when the GUI is running on the DiFX
        LAN where multicast messages are received as it reduces <i>guiServer</i>
        network traffic and allows the GUI to monitor things even if <i>guiServer</i>
        is for some reason lost.<br>
        <br>
      </li>
      <li>No connection is made to <i>guiServer</i>.&nbsp; The GUI
        receives DiFX multicast messages directly using a UDP socket,
        essentially acting as a monitor of DiFX activity.&nbsp; The GUI
        can also issue some commands directly to DiFX using its own
        multicast messages, but the command set available is limited and
        in the long run this capability will not be supported.<br>
      </li>
    </ol>
    The DiFX Control Connection panel includes settings that will
    determine in which of the above modes your GUI will interact with
    DiFX, as well as port and version specifications.&nbsp; Details
    about each control/display item are outlined below.<br>
    <br>
    <div align="center">&nbsp; <img alt=""
        src="images/settings/DifxControlConnection.png" height="207"
        width="893"><br>
    </div>
    <ul>
      <li> <a href="#MulticastguiServer_Check_Boxes">Multicast/guiServer



          Check Boxes</a></li>
      <li><a href="#guiServer_Connection_Light">guiServer Connection
          Light</a></li>
      <li><a href="#Channel_All_Data">Channel All Data</a><br>
      </li>
      <li><a href="#DiFX_Host">DiFX Host</a></li>
      <li><a href="#Control_Port">Control Port</a></li>
      <li><a href="#TRANSFER_PORTS">Transfer Port and Max Open Ports</a></li>
      <li><a href="#Monitor_Host_and_Port">Monitor Host and Port</a></li>
      <li><a href="#guiServer_Version_">guiServer Version</a></li>
      <li><a href="#built_wDiFX">GUI Version</a><br>
      </li>
      <li><a href="#Host_Environment_Vars">Host Environment Vars</a></li>
      <li><a href="#Username_">Username</a></li>
      <li><a href="#DiFX_Base">DiFX Base</a></li>
      <li><a href="#Run_wDiFX_Version">Run w/DiFX Version</a></li>
      <li><a href="#Use_Default_Start_Script">Use Default Start Script</a><br>
      </li>
      <li><a href="#DiFX_Execute_Script">DiFX Execute Script</a><br>
      </li>
    </ul>
    <h5><a name="MulticastguiServer_Check_Boxes"></a>Multicast/guiServer
      Check Boxes</h5>
    <p>These check boxes determine how the GUI communicates with DiFX,
      either through direct multicast messaging (unsupported,
      incomplete, and unlikely to work very well) or via direct TCP
      connection to <i>guiServer</i> (preferred, obviously).&nbsp; You
      will almost always want to use the <i>guiServer </i>option - the
      Multicast option exists for historical reasons and is maintained
      because it has some utility in testing.&nbsp; By default the <i>guiServer</i>
      option is checked.<br>
    </p>
    <h5><a name="guiServer_Connection_Light"></a>guiServer Connection
      Light</h5>
    <p>The guiServer Connection light gives an immediate indication
      whether a healthy TCP connection exists between the GUI and <i>guiServer</i>.&nbsp;



      A green light means a good connection.&nbsp; Red means a broken
      connection.&nbsp; A yellow light occurs when the GUI has some
      concern about the connection (these usually turn red quickly) or
      that a connection is in the process of being made (these usually
      turn green quickly).<br>
    </p>
    <h5><a name="Channel_All_Data"></a>Channel All Data</h5>
    <p>In "normal" operation the GUI and <i>guiServer</i> transfer data
      using a number of TCP ports that are opened and closed as needed -
      the port numbers and total number of these ports that can be
      simultaneously opened are controlled by the Transfer Port and Max
      Open Ports settings.&nbsp; If "Channel All Data" is selected, the
      GUI and <i>guiServer</i> will communicate and transfer all data
      over a single port - "channeling" all data transfers through that
      port.&nbsp; Channeling data is critical when operating the GUI/<i>guiServer</i>
      connection through an "ssh tunnel" where tunneling is required for
      each TCP connection, however the GUI operates perfectly well when
      channeling data under other circumstances.</p>
    <h5><a name="DiFX_Host"></a>DiFX Host</h5>
    This is the hostname of the node on which <i>guiServer</i> is
    running, or will run.&nbsp; Changes to this field will trigger a
    reconnection attempt for the TCP link between the GUI and <i>guiServer</i>
    (the GUI will continue to try to make the connection until it
    works).&nbsp; This name should be recognizable by the nameserver on
    the host where you are running the GUI (you can also use IP
    addresses in this field).<br>
    <h5><a name="Control_Port"></a>Control Port</h5>
    This is the port for TCP control communications between the GUI and
    <i>guiServer</i>.&nbsp; Its default value it is the same as the Port
    setting under Broadcast Network (50200), but this similarity is of
    no significance (and, in hindsight, is purposelessly
    confusing).&nbsp; Changes to the control port will cause a new TCP
    connection attempt.&nbsp; When you start <i>guiServer</i>, it
    reports the port number where it expects connections - that is what
    you should use here.<br>
    <h5><a name="TRANSFER_PORTS"></a>Transfer Port and Max Open Ports<br>
    </h5>
    <p>The <b>Transfer Port</b>&nbsp; and <b>Max Open Ports</b>
      determine the port numbers that will be used to transmit data from
      <i>guiServer</i> to the GUI.&nbsp; The GUI often has cause to
      request sets of data from the <i>guiServer</i> - the contents of
      files, directory listings, etc. - that are then transmitted using
      quick TCP connections that are opened as necessary and closed when
      no longer needed.&nbsp; Whenever such a request is made it is
      accompanied by a unique port number that is then used by <i>guiServer</i>
      for the data transfer.&nbsp; The Transfer Port number specified
      here is a "base" number that is used to form the unique port
      numbers - port numbers increment from this base up to (Transfer
      Port + Max Open Ports), and then recycle at the Transfer Port
      number.&nbsp; Locking mechanisms assure that port numbers aren't
      reused until they have been closed.&nbsp; <br>
    </p>
    <p>The user probably doesn't need to worry about these numbers much,
      except to make sure there are no port restrictions that apply to
      the range defined, and that the range is big enough.&nbsp; If file
      transfers appear to be slow (pop-up monitors of file transfers
      will let you know this) or to occasionally stall completely it is
      possible that increasing Max Open Ports will help you, although it
      is critical that Max Open Ports <i>not be changed when any ports
        are in use</i>.<br>
    </p>
    <h5><a name="Monitor_Host_and_Port"></a>Monitor Host and Port</h5>
    <p>The Monitor Host and Port are used to specify the connection to
      the <i>difx_monitor</i> server.&nbsp; This is a process that
      provides real-time data feedback that can be used to monitor a
      running job.&nbsp; The documentation on the <a
        href="realtime_monitor.html">Real-Time Job Monitor</a> has more
      detail about this.<br>
    </p>
    <p> </p>
    <h5><a name="guiServer_Version_"></a>guiServer Version </h5>
    <p>The "guiServer Version" is the version of the DiFX software that
      was used to build <i>guiServer</i>.&nbsp;&nbsp;<i>GuiServer</i>
      depends on a number of DiFX header files and libraries (primarily
      for file parsing) when it builds so in a perfect world it would
      match the the
      <a href="#built_wDiFX"> version of the GUI itself</a> to assure
      that they are compatible.&nbsp; However this is not, in general,
      critical, as the file parsing libraries a fairly stable (and
      almost always backward compatible) between DiFX versions.&nbsp;
      There is no need for the <i>guiServer</i> Version to match the <a
        href="#Run_wDiFX_Version">DiFX version used to run correlator
        operations</a>.&nbsp; <br>
    </p>
    <p>This is not a field the user can change - it is reported by <i>guiServer</i>
      when a new TCP connection is made.<br>
    </p>
    <h5><a name="built_wDiFX"></a>GUI Version<br>
    </h5>
    <p>This field shows the version of the DiFX software that was used
      to build the GUI.&nbsp; This field cannot be changed by the
      user.&nbsp; It will be filled automatically when a TCP connection
      is made.<br>
    </p>
    <h5><a name="Host_Environment_Vars"></a>Host Environment Vars</h5>
    <p>The "Host Environment Vars" button creates a display of DiFX Host
      environment variables as seen by <i>guiServer</i>:<br>
    </p>
    <div align="center"><img alt=""
        src="images/settings/EnvironmentVars.png" height="387"
        width="687"></div>
    <div align="left">All environment variables regardless of their
      applicability can be displayed, or only those that apply to DiFX
      may be selected (at the moment this distinction is determined
      rather simplistically - by whether or not "DIFX" is the first four
      characters in the variable name, but this capability may be made
      more sophisticated in the future).&nbsp; The settings of
      environment variables can be used to determine how several GUI
      options should be set.<br>
    </div>
    <h5><a name="Username_"></a>Username<br>
    </h5>
    This field shows the name of the user under which <i>guiServer</i>
    was started.&nbsp; All DiFX processes that <i>guiServer</i> starts
    will also be run under this user (which means the username must have
    permission to do so on the host running <i>guiServer</i>).&nbsp;
    This is not a user-settable field.<br>
    <h5><a name="DiFX_Base"></a>DiFX Base</h5>
    <p>The "DiFX Base" is a path on the DiFX host under which the DiFX
      software resides.&nbsp; The DiFX Base is actually just one of the
      environment variables (see above) found on the DiFX host.&nbsp;
      Below this directory will be "bin" directories and source
      directories for each installed DiFX version.&nbsp; The DiFX Base
      is reported when a connection is made to <i>guiServer</i> - the
      field is not user-settable.<br>
    </p>
    <h5><a name="Run_wDiFX_Version"></a>Run w/DiFX Version</h5>
    <p>The GUI does a number of things, such as organizing jobs and
      creating/administering job data directories.&nbsp; But primarily
      its purpose is to run DiFX, which it does for the most part by
      executing DiFX applications on the DiFX host through system level
      commands (equivalent to command line operations).&nbsp; The "Run
      w/DiFX Version" setting can be used to instruct <i>guiServer</i>
      to use a specific version of the DiFX application.&nbsp; A
      pull-down menu will provide all of the DiFX software versions
      installed on the DiFX host.<br>
    </p>
    <p>Note that this setting can be changed <i>at any time</i> during
      the process of running a job, such that you can run some DiFX
      applications using one version of DiFX, and others using
      another.&nbsp; For instance, if you want to use the latest
      development version of the software to run <i>mpifxcorr</i>, but
      know that your data require <i>vex2difx</i> from version 2.1, <i>and</i>
      you know what you are doing, you can change this setting at
      different stages in the process accordingly.&nbsp; Which is not to
      say this is recommended behavior.<br>
    </p>
    <h5><a name="Use_Default_Start_Script"></a>Use Default Start Script</h5>
    <p>Use the chosen DiFX Version name to produce a default value for
      the DiFX Execute Script but appending to version name to
      "rungeneric.".&nbsp; This will cause the DiFX Execute Script to be
      over-written.<br>
    </p>
    <h5><a name="DiFX_Execute_Script"></a>DiFX Execute Script<br>
    </h5>
    The DiFX Execute Script is a script used by guiServer to execute all
    DiFX commands (both those run locally on the DiFX host and via <i>mpirun</i>
    on other nodes).&nbsp; The execute script can be used to do any set
    up or environment variable definition that must take place for DiFX
    processes to run correctly.&nbsp; For instance, if you are running <i>vex2difx</i>,
    which is run on the DiFX host, and you have the DiFX execute script
    defined as "rungeneric.DIFX_DEVEL", <i>guiServer</i> will execute
    the command:<br>
    <pre><tt>	</tt>rungeneric.DIFX_DEVEL vex2difx [args...]</pre>
    When running <i>mpifxcorr</i>, which uses <i>mpirun</i> to run on
    multiple nodes, <i>guiServer</i> will run the following:<br>
    <pre>	mpirun [args...] rungeneric.DIFX_DEVEL mpifxcorr [more args...]</pre>
    In the former case the execute script is run on the DiFX host (where
    <i>guiServer</i> is being run) while in the latter case it is run on
    each of the nodes in the cluster accessible to <i>mpirun</i>.&nbsp;
    In all cases, the node involved must be able to execute the named
    script.<br>
    <br>
    If you do nothing, <i>guiServer</i> will choose "rungeneric.[DiFX
    Version]" as a default name for the execute script (Walter Brisken's
    <i>difxbuild</i> procedure will automatically create this script for
    each DiFX version that it builds).&nbsp; You can, however, put
    anything in this field that you want, including nothing at
    all.&nbsp; The contents of the field is inserted as a string in the
    commands (examples just above) before they are executed.<br>
    <br>
    Note that because the script is run on each node you can actually
    have a different script on each node doing different things, as long
    as they all share the same name.<br>
    <h2><a name="DiFX_Message_Traffic"></a>DiFX Message Traffic<br>
    </h2>
    DiFX uses UDP multicast messages to periodically broadcast the
    status of individual nodes and the state of running jobs -
    information the user interface displays.&nbsp; The messages
    originate (with some exceptions) from the <i>mk5daemon</i> process
    that should be running on each node in the DiFX cluster.&nbsp; This
    same multicast system is used by the user interface (either through
    <i>guiServer</i> or directly) <span style="font-style: italic;"></span>to









    communicate with <span style="font-style: italic;">mk5daemon</span>
    and control the components of the software correlator.&nbsp; <br>
    <br>
    <div align="center"><img alt=""
        src="images/settings/multiMessages.png" height="214" width="922"><br>
      <div align="left">
        <ul>
          <li><a href="#Relay_Using_guiServer_Connection_">Relay Using <i>guiServer</i>
              Connection</a></li>
          <li><a href="#Group_Address">Group Address</a></li>
          <li><a href="#Port">Port</a></li>
          <li><a href="#Buffer_Size">Buffer Size</a></li>
          <li><a href="#Timeout_ms">Monitor Timeout</a></li>
          <li><a href="#Packet_Traffic_Plot">Packet Traffic Plot<br>
            </a></li>
          <li><a href="#Suppress_Unknown_Message_Warnings">Suppress
              "Unknown Message" Warnings</a></li>
          <li><a href="#View_DiFX_Messages">View DiFX Messages</a></li>
          <li><a href="#Request_AllSelected_Messages">Request
              All/Selected Messages</a><br>
          </li>
          <li><a href="#Identify_Mark5_Unit_Names_by_Pattern">Identify
              Mark5 Unit Names by Pattern</a></li>
          <li><a href="#Inactivity_WarningError_Settings">Inactivity
              Warning/Error</a><br>
          </li>
        </ul>
      </div>
    </div>
    <h4><a name="Relay_Using_guiServer_Connection_"></a>Relay Using <i>guiServer</i>
      Connection<br>
    </h4>
    Being based on UDP, DiFX multicast messages will only work within a
    local area network.&nbsp; However, if you are connecting to the <span
      style="font-style: italic;">guiServer</span> to control DiFX
    you&nbsp; should select this option to "relay" all multicast
    messages through the TCP connection between the user interface and <span
      style="font-style: italic;">guiServer</span>.&nbsp; All messages
    on the DiFX subnet will then be collected by <span
      style="font-style: italic;">guiServer</span> and retransmitted to
    the user interface where they are parsed and displayed exactly as if
    the user interface were on a LAN with the DiFX cluster.&nbsp; If
    this "relay" option is not selected only messages received directly
    via UDP will be collected - a capacity that is intact (for the time
    being) for historical and (possibly) diagnostic reasons.&nbsp; As
    the purely multicast operation of the GUI is archaic and running
    with <i>guiServer</i> is assumed, this setting should always be
    checked.<br>
    <h4><a name="Group_Address"></a>Group Address</h4>
    This address is used to identify the UDP multicast "group" that <span
      style="font-style: italic;">mk5daemon</span> is using.&nbsp; It
    should match the DIFX_MESSAGE_GROUP environment variable setting
    used when starting <span style="font-style: italic;">mk5daemon</span>
    on all processing and data source nodes (run <span
      style="font-style: italic;">mk5daemon</span> with the "-h" option
    for details).&nbsp; At the moment the default value for this
    environment variable, and thus the setting you should probably use
    here, is "224.2.2.1".&nbsp; This setting has no impact if messages
    are being relayed from <i>guiServer</i>. <br>
    <h4><a name="Port"></a>Port</h4>
    The port is used for directly receiving UDP multicasts.&nbsp; This
    should match the value of the DIFX_MESSAGE_PORT environment variable
    in place when <span style="font-style: italic;">mk5daemon</span>
    was started on each node.&nbsp; At the moment the default value for
    the environment variable, and thus this field, is 50200.&nbsp; This
    setting has no impact if messages are being relayed from <i>guiServer</i>.<br>
    <h4><a name="Buffer_Size"></a>Buffer Size</h4>
    This is the maximum size of a broadcast message, in bytes.&nbsp;
    Probably this shouldn't be fiddled with too much - making it too
    small will cause UDP messages to be incompletely read.&nbsp; It is a
    block of memory that must be allocated for each incoming message, so
    it shouldn't be huge either.&nbsp; 1500 appears to be a perfectly
    safe value.<br>
    <h4><a name="Timeout_ms"></a>Monitor Timeout (ms)</h4>
    The timeout is the number of milliseconds that the system will wait
    for an incoming broadcast message.&nbsp; It can be set to 0, which
    means "wait forever", although this might be unhealthy (killing the
    thread that reads messages will become difficult).&nbsp; Otherwise
    it does little more than govern the update rate of the Packet
    Traffic Plot (see below).<br>
    <h4><a name="Packet_Traffic_Plot"></a>Packet Traffic Plot</h4>
    The Packet Traffic Plot shows all received DiFX messages as they are
    read in real time, either via TCP from <i>guiServer</i> or UDP
    directly.&nbsp; If you are receiving messages (i.e. all of the above
    settings are set properly) the plot should show activity - there
    should be occasional spikes as messages come in (the height of the
    spikes is the size of messages relative to the Buffer Size).&nbsp;
    If, on the other hand, you get a "flat line", your settings are
    wrong, your connection to <i>guiServer</i> is bad, or possibly <span
      style="font-style: italic;">mk5daemon</span> isn't running
    anywhere visible on the DiFX cluster network.<br>
    <h4><a name="Suppress_Unknown_Message_Warnings"></a>Suppress
      "Unknown Message" Warnings</h4>
    <p>This check box was put in place to avoid annoying error messages
      during development and is largely obsolete.&nbsp; It will probably
      be removed in the near future.<br>
    </p>
    <h4><a name="View_DiFX_Messages"></a>View DiFX Messages</h4>
    <p>The "View DiFX Messages" button will bring up the "DiFX Message
      Traffic Monitor".&nbsp; This window lists all (recognized) DiFX
      message types that are received by the GUI (either directly via
      UDP, or relayed from the <i>guiServer</i>), displays their "raw"
      XML code, and parses them according to their type.&nbsp; A buffer
      of messages is stored.&nbsp; Users can select the types of
      messages they wish to see, examine any message in the buffer, and
      change the buffer size.&nbsp; Originally created for diagnostic
      purposes, this window provides a view into DiFX inter-process
      communication that may be useful, or at least amusing.</p>
    <p align="center"><img alt=""
        src="images/settings/trafficMonitor.png" height="670"
        width="900"><br>
    </p>
    <div align="left">
      <h4><a name="Request_AllSelected_Messages"></a>Request
        All/Selected Messages</h4>
      <p>Using the "Request All" or "Request Selected" check boxes, <i>guiServer</i>
        can be instructed to relay all (default) or a selected subset of
        DiFX message traffic.&nbsp; The selection of desired message
        types can be controlled through a pop-up checklist obtained
        using the "Selected Messages" button:</p>
      <p align="center">&nbsp;<img alt=""
          src="images/settings/selectedMessages.png" height="385"
          width="259"><br>
      </p>
      <div align="left">Selecting a subset of all message traffic may be
        useful if a TCP connection appears unable to handle it
        all.&nbsp; It can also serve some diagnostic purposes.<br>
      </div>
      <h4><a name="Identify_Mark5_Unit_Names_by_Pattern"></a>Identify
        Mark5 Unit Names by Pattern</h4>
    </div>
    <p>This check box and text field cause the GUI (primarily in the
      Hardware Monitor Window) to determine whether multicast messages
      are from Mark 5 Nodes or Processor Nodes based on machine
      names.&nbsp; If the box is checked the machine name of the source
      of each message is compared to a list of comma-separated "regular
      expressions" contained in the text field.&nbsp; If it matches any
      one of them, the message is assumed to be from a Mark 5 unit and
      is sorted accordingly.<br>
    </p>
    <p>Regular expressions are extremely useful for pattern matching,
      but if you haven't used them before they can be less than 100%
      intuitive.&nbsp; There are many online resources that explain them
      in excruciating detail.&nbsp; The default value for patterns
      "mark5.*" matches the NRAO practice (duplicated at USNO) of naming
      all Mark 5 machines such that they start with the five characters
      "mark5", as in "mark5-101.foo.edu".</p>
    <h4><a name="Inactivity_WarningError_Settings"></a>Inactivity
      Warning/Error Settings</h4>
    <p>The Hardware Monitor Window lists all processors and Mark 5
      Modules on the LAN that are broadcasting <i>mkdaemon</i>
      messages.&nbsp; Associated with each processor or module is an
      "activity" light that turns green briefly whenever a new message
      for that processor or module is received from <i>mk5daemon</i>
      (these messages should be transmitted periodically if all is
      working correctly).&nbsp; To alert the user when a processor or
      module has <i>not</i> been heard from in a while, the light will
      turn yellow after the "Warning" number of seconds have elapsed
      with no received message.&nbsp; The light will turn red after the
      "Error" number of seconds.<br>
    </p>
    <p>These <a href="widgets_content.html#Number_Boxes">Number Box</a>
      settings let you change the number of seconds that elapse without
      messages before the lights change.&nbsp; They should be adjusted
      to what works for your installation.<br>
    </p>
    <h2><a name="Job_Creation_Settings"></a>Job Creation Settings</h2>
    <p>Job Creation Settings govern how experiments, passes, and jobs
      are created using the <a href="experimentEditor_content.html">Experiment

        Editor</a>.&nbsp; These are general settings - the editor itself
      has many settings that can be applied to individual experiments
      when they are being created and also allows these settings to be
      overridden.<br>
    </p>
    <div align="center"><img alt=""
        src="images/settings/jobCreationSettings.png" height="124"
        width="895"><br>
      <div align="left">
        <ul>
          <li><a href="#Working_Directory">Working Directory</a></li>
          <li><a href="#ANTENNA_DEFAULTS">Antenna Defaults</a></li>
          <li><a href="#Eliminate_Stations_With_Code">Eliminate Stations
              With "-1" Code</a></li>
          <li><a href="#Excise_Unused_Scans_from_.vex_File">Excise
              Unused Scans From .vex File</a><br>
          </li>
        </ul>
      </div>
    </div>
    <p> </p>
    <h5><a name="Working_Directory"></a>Working Directory</h5>
    <p>The working directory is the default path where a directory
      devoted to a new experiment will be created.&nbsp; For instance,
      if the Working Directory is defined as:<br>
    </p>
    <pre>	/home/difx/jobPath<br></pre>
    a new experiment assigned the (abitrary) name "MyExperiment" will be
    created in:<br>
    <pre>	/home/difx/jobPath/MyExperiment<br></pre>
    <p></p>
    <p>This is just the default - the actual path can be changed to
      whatever the user wants in the Experiment Editor <a
        href="experimentEditor_content.html#IDENTIFICATION_DATA">Identification

        Data</a> section.<br>
    </p>
    <h5><a name="ANTENNA_DEFAULTS"></a>Antenna Defaults</h5>
    <p>The Antenna Defaults button shows the "Default Source Settings
      Based on Antenna" window which can be used to connect commonly
      used data source locations to particular antennas based on
      two-character code station names (these code names match those
      that appear in .vex files).&nbsp; These specifications are applied
      to antennas that appear in the <a
        href="experimentEditor_content.html#Stations">Stations</a>
      section of the Experiment Editor and, if done properly, can
      eliminate tedious and error-prone user settings.</p>
    <p align="center"> <img alt=""
        src="images/settings/antennaDefaultsWindow.png" height="215"
        width="693"></p>
    <p> The controls in the window are pretty straight-forward.&nbsp; To
      add a new specification, click the "Add" button and edit the line
      that appears.&nbsp; To remove a specification click the "X" button
      associated with it.&nbsp; Only one specification for each antenna
      code should be used (if there are multiple specifications for an
      antenna the first one in the list will <i>probably</i> be used,
      but this is not guaranteed behavior).&nbsp; The first field in a
      new specification should be filled in with the (upper case) two
      letter code for the antenna.&nbsp; A pull-down list provides
      choices among data source types (files, module, or network).&nbsp;
      A text field allows path or node name specification depending on
      data type (the former for "files" data, the latter for "module"
      data).&nbsp; A check box indicates that a file path is a file
      list.&nbsp; If the data type is "Files" and "FileList" is not
      checked, the path can include wildcards.<br>
    </p>
    <p>The Antenna Defaults will be applied to the Stations section of
      the Experiment Editor when a new .vex file is used.&nbsp; They are
      not necessarily final settings - users can still change them.<br>
    </p>
    <h5><a name="Eliminate_Stations_With_Code"></a>Eliminate Stations
      With "-1" Code</h5>
    <p>This check box will cause the GUI to not use stations that have a
      "-1" in the "code" column associated with their scan section in
      the "source" .vex file.&nbsp; The lines associated with unused
      scans are either deleted if "Excise Unused Scans from .vex File"
      is checked (see below), or are commented out if it is not
      checked.&nbsp; Examples:</p>
    <p><b>The following lines from the $SCHED section of a .vex file
        (note -1 in final column of station "Hb" line):<br>
      </b></p>
    <pre>&nbsp; scan 329-1830b;<br>&nbsp;&nbsp;&nbsp; start = 2014y329d18h30m00s;<br>&nbsp;&nbsp;&nbsp; mode = GEOSX-SX;<br>&nbsp;&nbsp;&nbsp; source = 0537-441;<br>&nbsp;&nbsp;&nbsp; station = Hb :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp;&nbsp; 60 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : -1;<br>&nbsp;&nbsp;&nbsp; station = Ke :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp;&nbsp; 93 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Ww :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Yg :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp; endscan;</pre>
    <p><b>are replaced by this if "Excise Unused Scans from .vex File"
        is checked:<br>
      </b></p>
    <pre>&nbsp; scan 329-1830b;<br>&nbsp;&nbsp;&nbsp; start = 2014y329d18h30m00s;<br>&nbsp;&nbsp;&nbsp; mode = GEOSX-SX;<br>&nbsp;&nbsp;&nbsp; source = 0537-441;<br>&nbsp;&nbsp;&nbsp; station = Ke :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp;&nbsp; 93 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Ww :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Yg :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp; endscan;</pre>
    <p><br>
    </p>
    <p><b>or this if it is not checked:</b><br>
    </p>
    <pre>&nbsp; scan 329-1830b;<br>&nbsp;&nbsp;&nbsp; start = 2014y329d18h30m00s;<br>&nbsp;&nbsp;&nbsp; mode = GEOSX-SX;<br>&nbsp;&nbsp;&nbsp; source = 0537-441;<br>#&nbsp;&nbsp;&nbsp; station = Hb :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp;&nbsp; 60 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : -1;<br>&nbsp;&nbsp;&nbsp; station = Ke :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp;&nbsp; 93 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Ww :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp;&nbsp;&nbsp; station = Yg :&nbsp;&nbsp;&nbsp; 0 sec :&nbsp;&nbsp; 122 sec :&nbsp;&nbsp;&nbsp;&nbsp; 0 ft : 1A : &amp;ccw : 1;<br>&nbsp; endscan;</pre>
    <p>Doing this duplicates behavior found in hardware
      correlators.&nbsp; Stations removed in this manner may be restored
      by hand using the Scans/Station Timeline settings.&nbsp; By
      default this box is checked - uncheck it if you don't want this
      behavior.<br>
    </p>
    <h5><a name="Excise_Unused_Scans_from_.vex_File"></a>Excise Unused
      Scans from .vex File</h5>
    <p>When creating a new experiment the user often eliminates scans
      contained in the original .vex file.&nbsp; When this happens the
      .v2d file must create a list of all remaining scans.&nbsp;
      Unfortunately there is a limit to the total number of characters
      that can be used to do this, and as experiments get larger and
      include more scans this limit is invariably encountered.&nbsp; The
      .v2d file can also request "all" scans in the .vex file using very
      few characters.&nbsp; As a kludge to get around the character
      limit, the unused scans are instead removed from the .vex file
      altogether and the "all" request is left in the .v2d file.&nbsp;
      The .vex file without the scans is a copy, placed in the pass
      directory for the new experiment.&nbsp; The original "source" .vex
      file is not altered.<br>
    </p>
    <p>This setting will also remove stations from scans when they have
      been selectively eliminated (either using the "-1" code as
      described <a href="#Eliminate_Stations_With_Code">above</a> or by
      the user when creating an experiment).&nbsp; When the "Excise"
      option is not selected, stations are commented out.<br>
    </p>
    <p>The primary motivation for this option (long scan lines in the
      .v2d file) has been eliminated since its introduction, so by
      default it is "off".&nbsp; The option has been left in place in
      the event it serves some other purpose.<br>
    </p>
    <ul>
    </ul>
    <h2><a name="Job Settings"></a>Job Processing Settings</h2>
    The Job Settings govern how individual jobs are run, both when
    started directly by the user and when automatically run by the
    scheduler.&nbsp; When applied to a job that is started individually
    using the <a href="Job_Control_content.html">Job Control Window</a>
    these settings are simply initial "suggestions" that can be changed
    by the user.&nbsp; Scheduled jobs, however, will implement them as
    set.<br>
    <br>
    <div align="center"><img alt=""
        src="images/settings/jobProcessingSettings.png" height="235"
        width="894"><br>
      <br>
      <div align="left">
        <ul>
          <li><a href="#Head_Node">Head Node</a></li>
          <li><a href="#Use_Head_Node_in_Processing">Use Head Node in
              Processing</a></li>
          <li><a href="#Data_Source_Defaults">Data Source Defaults</a></li>
          <ul>
            <li><a href="#Unique_Node_per_Data_SourceAssign_Based">Unique
                Node per Data Source/Assign Based on Path</a></li>
            <li><a href="#Share_Data_Nodes_With_Processing">Share Data
                Nodes With Processing</a></li>
            <li><a href="#Share_Data_Nodes_Between_Jobs">Share Data
                Nodes Between Jobs</a></li>
            <li><a href="#Threads_Per_Data_Source">Threads Per Data
                Source</a></li>
            <li><a href="#Restrict_Data_Sources">Restrict Data Sources</a></li>
          </ul>
          <li><a href="#Processor_Defaults">Processor Defaults</a></li>
          <ul>
            <li><a href="#Run_Using_AllSpecified_Number_of_Nodes">Run
                Using All/Specified Number of Nodes</a></li>
            <li><a href="#With_AllSpecified_Number_of_Threads">With
                All/Specified Number of Threads</a></li>
            <li><a href="#For_Each_BaselineJob">For Each Baseline/Job</a></li>
          </ul>
          <li><a href="#Scheduler_Settings">Scheduler Settings</a></li>
          <ul>
            <li><a href="#Run_Scheduled_Jobs">Run Scheduled Jobs
                Sequentially/Simultaneously</a></li>
            <li><a href="#Resource_and_Processing_Time_Limits">Resource
                and Processing Time Limits</a></li>
            <li><a href="#Try_To_Skip_Missing_Stations">Try To Skip
                Missing Stations</a></li>
          </ul>
        </ul>
        <h4><a name="Head_Node"></a>Head Node</h4>
        <h4><a name="Use_Head_Node_in_Processing"></a>Use Head Node in
          Processing<br>
        </h4>
      </div>
    </div>
    <h3><a name="Data_Source_Defaults"></a>Data Source Defaults</h3>
    <h4><a name="Unique_Node_per_Data_SourceAssign_Based"></a>Unique
      Node per Data Source/Assign Based on Path</h4>
    <h4><a name="Share_Data_Nodes_With_Processing"></a>Share Data Nodes
      With Processing</h4>
    <h4><a name="Share_Data_Nodes_Between_Jobs"></a>Share Data Nodes
      Between Jobs</h4>
    <h4><a name="Threads_Per_Data_Source"></a>Threads Per Data Source</h4>
    <h4><a name="Restrict_Data_Sources"></a>Restrict Data Sources<br>
    </h4>
    <h3><a name="Processor_Defaults"></a>Processor Defaults</h3>
    <h4><a name="Run_Using_AllSpecified_Number_of_Nodes"></a>Run Using
      All/Specified Number of Nodes</h4>
    <h4><a name="With_AllSpecified_Number_of_Threads"></a>With
      All/Specified Number of Threads</h4>
    <h4><a name="For_Each_BaselineJob"></a>For Each Baseline/Job<br>
    </h4>
    <h3><a name="Scheduler_Settings"></a>Scheduler Settings</h3>
    Scheduler Settings govern the operation of the job scheduler. The
    job scheduler can be set to run a large number of jobs
    automatically. For details on scheduling jobs and monitoring the
    process of the scheduler, see <a
      href="main_window_content.html#Running_Jobs_With_the_Scheduler">Running
      Jobs With the Scheduler</a>.&nbsp; Note that the scheduler also
    implements all of the other Job Processing Settings in setting up
    scheduled jobs - those settings here apply only to their actual
    running.<br>
    <h4><a name="Run_Scheduled_Jobs"></a>Run Scheduled Jobs
      Sequentially/Simultaneously</h4>
    <p>When more than one job is scheduled (this is generally the case
      when using the scheduler), should each be run on its own, i.e.
      with the entire DiFX processing cluster to itself, of should more
      than one be run at a time?&nbsp; If you choose "Sequentially" the
      scheduler will run each job on its own, started each subsequent
      job only after the previous one has completed.&nbsp; If you choose
      "Simultaneously" any number of jobs may be run at the same
      time.&nbsp; You must set a maximum number that can be run
      simultaneously.<br>
    </p>
    <p>In testing at USNO it was determined that, for the most part,
      there is no advantage to running more than one job at a time, and
      there may be a slight penalty.&nbsp; But it is not difficult to
      imagine that simultaneous processing may be advantageous under
      some circumstances and/or at different installations.<br>
    </p>
    <h4><a name="Resource_and_Processing_Time_Limits"></a>Resource and
      Processing Time Limits</h4>
    <p>The scheduler can only plow through a long list of jobs if jobs
      themselves complete, especially if they are being run
      sequentially.&nbsp; That being said, it is not unheard of for a
      job to hang up for any number of reasons.&nbsp; The Resource
      Allocation Time Limit and Processing Time Limit specify a number
      of seconds the scheduler should wait, after not receiving any
      feedback (messages, data, whatever) from a job before "giving up"
      on the job and moving on in the schedule.&nbsp; "Resource
      Allocation" applies to the set up of processors and data sources,
      and "Processing" applies to actual DiFX processing.&nbsp; Any job
      that is abandoned is appropriately labeled in the Queue Browser.<br>
    </p>
    <p>The Resource and Processing Time Limits are applied only if their
      associated check boxes are selected.<br>
    </p>
    <h4><a name="Try_To_Skip_Missing_Stations"></a>Try To Skip Missing
      Stations</h4>
    <p>When this option is selected the scheduler will attempt to alter
      and reschedule jobs that fail due to non-existent data for one or
      more required stations.&nbsp; It does this by rebuilding the job
      such that it no longer includes the missing station(s).&nbsp;
      Details are <a
        href="main_window_content.html#Skipping_Missing_Stations">here</a>.<br>
    </p>
    <h2><a name="Database_Configuration"></a>Database Configuration</h2>
    Database trouble?&nbsp; See <a
      href="#Testing_the_Database_Configuration"><span
        style="font-style: italic;">Trouble-shooting the Database
        Configuration</span></a>.<br>
    <br>
    The Database Configuration settings control the access the GUI has
    to the DiFX database.&nbsp; The DiFX database contains settings and
    status for experiments, passes, and jobs that appear in the Queue
    Browser window.&nbsp; The GUI remotely accesses the database using a
    network connection (the database can also be consulted on the
    command line by running a client program either remotely or on the
    DiFX database host).&nbsp; The following fields govern the GUI's
    remote access to the database:<br>
    <h4>Use Data Base</h4>
    This checkbox determines whether the GUI is using the database at
    all.&nbsp; If checked, changes to experiments, passes, and jobs in
    the Queue Browser will be reflected in the database, and items in
    the database will appear in the Queue Browser.&nbsp; If not,
    experiments, passes, and jobs will only appear in the Queue Browser
    if they are created by the same instance of the GUI - any
    information about them will be lost if the GUI is shut down and
    restarted.&nbsp; Beyond this capability, the database is not
    required - the GUI will still be able to run DiFX without it.<br>
    <h4>Version</h4>
    <p>The version field is not currently in use, but may be used in the
      future to coordinate the GUI with changes that may be made to the
      database structure.&nbsp; It is set to the most recent version of
      the database that the GUI can properly parse (at the moment this
      is the <span style="font-style: italic;">only</span> version is
      can parse).&nbsp; Changing it will have no effect.<br>
    </p>
    <h4>Host</h4>
    The database Host is the hostname of the host that contains the DiFX
    database.&nbsp; The named host should be accessible through normal
    network connections, and the hostname itself must be recognized by
    the name lookup scheme on the GUI machine.&nbsp; The <a
      href="#Database_Ping_Test">ping test</a> can be used to test the
    hostname.<br>
    <h4>User</h4>
    The user is the username for the DiFX database.&nbsp; This is the
    name you would use when running the a database command line client
    on the DiFX host as in the following example (using a mySQL client):<br>
    <pre>mysql -u USER<br></pre>
    It does not necessarily match the username you may use to log into
    the DiFX host.&nbsp; The database must be set up to recognize this
    user, <span style="font-style: italic;">including access to the
      database from the host where the DiFX GUI is running</span>.&nbsp;
    See <a href="#Database_Remote_Access">Problems with Database Remote
      Access</a> in the trouble-shooting section for details.<br>
    <h4><a name="Port_"></a>Port</h4>
    The JDBC Port is the port over which remote communication with the
    database occurs.&nbsp; The default port for most mySQL installations
    is 3306, so that is probably what you should be setting yours to (if
    you are using the mySQL database management system).&nbsp; Consult
    the <code>/etc/services</code> file on the database host to find
    out which port is being used.<br>
    <h4>Password</h4>
    This is the password for the username in the database.&nbsp; This is
    the password you would use when prompted by the database command
    line client on the database host.&nbsp; This password is set by the
    database administrator or by the user through the database
    client.&nbsp; It is not necessarily the same password you would use
    to log into the database host.<br>
    <span style="font-weight: bold;"><span style="font-weight: bold;"></span></span>
    <h4>DifX Database</h4>
    The DifX Database is the name of the database.&nbsp; At the time of
    this writing the rest of the DiFX software (difxqueue, etc) uses the
    database named "difxdb", so that is the default value for this
    field.&nbsp; Unless you feel you know better, it probably shouldn't
    be changed.&nbsp; <br>
    <h4>Management System</h4>
    <p>The database management system is the "application" used to
      administer and access the DiFX database for your location, such as
      mySQL, Postgresql, etc. (this is sometimes called the database
      "vendor").&nbsp; The management system is set up by your database
      administrator when the DiFX database is initialized (this is all
      done using a management system-specific "schema", as described in
      the database documentation).&nbsp; Management systems known to
      function with the GUI include mySQL and Postgresql.&nbsp; If you
      change the management system you will also have to change the
      driver - see the table below for drivers that are known to work
      with each management system.<br>
    </p>
    <h4>Driver</h4>
    This is the "driver" used by Java to give the GUI access to the
    database.&nbsp; The driver is specific to the database management
    system, and must be something Java has access to.&nbsp; The GUI is
    delivered with drivers appropriate for a couple of popular (and
    free) management systems, as outlined in the table below.<br>
    <br>
    <table style="text-align: left; width: 814px; height: 91px;"
      border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td style="vertical-align: top;"><span style="font-weight:
              bold;">Management System</span><br>
          </td>
          <td style="vertical-align: top;"><span style="font-weight:
              bold;">Driver</span><br>
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">mySQL<br>
          </td>
          <td style="vertical-align: top;">com.mysql.jdbc.Driver<br>
          </td>
        </tr>
        <tr>
          <td style="vertical-align: top;">Postgresql<br>
          </td>
          <td style="vertical-align: top;">org.postgresql.Driver<br>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
    If your database installation uses a different management system,
    you may wish to petition the GUI development group to include it.<br>
    <h4>Periodic Update <br>
    </h4>
    This check box tells the Queue Browser to automatically check the
    database for changes after a given time interval, which you can
    set.&nbsp; The usefulness of automatic checking is dependent on
    whether or not other users might be changing the database while you
    are running the GUI.&nbsp; If your GUI instance is the only source
    of database changes it is essentially pointless as all changes you
    make will be recognized anyway.&nbsp; If, on the other hand, other
    users are making changes, the automatic update will make them appear
    in real time (or reasonably close to it if you make your interval
    short).
    <h2><a name="Testing_the_Database_Configuration"></a>Trouble-shooting

































      the Database Configuration</h2>
    A number of things can go wrong when trying to access the DiFX
    database remotely.&nbsp; The Database Configuration panel contains a
    few tests that can be used to troubleshoot the database connection.<br>
    <h3><a name="Database_Ping_Test"></a>Ping Test</h3>
    The Ping Test is run by hitting the "Ping Host" button.&nbsp; It can
    be used to establish two things:<br>
    <ol>
      <li>Can the name for the DiFX host be resolved - i.e. does the
        host name make any sense?</li>
      <li>Is the host reachable with the current network configuration -
        i.e. is it out there?</li>
    </ol>
    The Ping Test performs attempts six "pings" of the named host,
    reporting the results in the results panel.&nbsp; A successful ping
    test will return statistics for each of the pings along with an
    overall statistical summary:<br>
    <br>
    <img style="width: 476px; height: 196px;" alt=""
      src="images/settings/good_ping_test.gif"><br>
    <br>
    Ping Test failures will produce alarming red text in the results
    panel.&nbsp; The reported failure should give you an idea what is
    wrong.&nbsp; For instance, the following indicates that the given
    hostname cannot be resolved, either by your local host table or by
    your name server:<br>
    <br>
    <img style="width: 456px; height: 191px;" alt=""
      src="images/settings/bad_hostname_ping_test.gif"><br>
    <br>
    The following screen would indicate a bad network connection at the
    GUI machine:<br>
    <br>
    <img style="width: 465px; height: 189px;" alt=""
      src="images/settings/bad_network_ping_test.gif"><br>
    <br>
    Finally, the name may be resolved and the network may be good but
    the named host may not answer either because it is down or it is not
    properly connected to the network:<br>
    <br>
    <img style="width: 501px; height: 186px;" alt=""
      src="images/settings/lost_host_ping_test.gif"><br>
    <br>
    <h3>Database Connection Test</h3>
    The Database Connection Test makes a comprehensive test of the
    current database settings by trying to access the DiFX job queue and
    getting a list of all jobs out of it (this is exactly what the Queue
    Browser does to access the queue data).&nbsp; It is run using the
    "Test Database" button.&nbsp; When run, the test forms a URL out of
    host name and port number (this URL is reported in parenthesis in
    the results panel), then attempts to create a connection using the
    URL, the user, and the password.&nbsp; If this is successful, the
    DiFX database is consulted to obtain a list of all queued
    jobs.&nbsp; The Database Connection Test reports the number of jobs
    in the queue and exits.<br>
    <br>
    <img style="width: 646px; height: 188px;" alt=""
      src="images/settings/good_database_test.gif"><br>
    <h3><a name="Database_Remote_Access"></a>Problems with Database
      Remote Access</h3>
    The following is a list of some of the errors that might be produced
    by the Database Connection Test and what can be done about
    them.&nbsp; Note that these errors may also be reported in the
    Message Window as the GUI tries to access the DiFX queue in the
    database.<br>
    <code></code> <code></code><code></code><code><br>
      <br>
      <br>
    </code>
    <div style="margin-left: 40px; font-weight: bold;">
      <h6><code>SQLException: Communications link failure The last
          packet sent successfully to the server was 0 milliseconds ago.
          The driver has not received any packets from the server.</code></h6>
    </div>
    <div style="margin-left: 40px;"><br>
    </div>
    This error indicates that the connection to the remote mySQL
    database failed.&nbsp; Check that the DiFX host exits and in on the
    network (using the <a href="#Database_Ping_Test">Ping Test</a>).&nbsp;





























    Then remote log into that host and see if the mySQL server is
    runing:<br>
    <ul style="margin-left: 40px;">
    </ul>
    <pre style="margin-left: 40px;">ps -ef | grep mysql<br></pre>
    Both <span style="font-style: italic;">mysql_safe</span> and <span
      style="font-style: italic;">mysqld</span> should be running.&nbsp;
    The latter is the mySQL server, the former is used to start it
    when/if it shuts down.&nbsp; In a proper installation of mySQL these
    programs should be running automatically after boot up.&nbsp; If
    they ARE running, see if a mySQL client can be run (the path may be
    different):<span style="font-family: monospace;"><br>
    </span>
    <div style="margin-left: 40px;">
      <pre><span style="font-family: monospace;"></span>/usr/bin/mysql</pre>
    </div>
    If it cannot be run, this may indicate an incorrect or incomplete
    mySQL installation.<br>
    <br>
    <br>
    <div style="margin-left: 40px; font-weight: bold;">
      <h6><code>SQLException: Access denied for user 'difxw'@'10.1.2.45'
          (using password: YES)</code></h6>
      <h6><code></code></h6>
      <code><br>
      </code></div>
    Access to the database can be denied for a number of reasons.&nbsp;
    Check your user name and password (these need to be mySQL user name
    and password, not necessarily the user name and password you use to
    remotely log into the DiFX host).&nbsp; If you can, run the mySQL
    client on the DiFX host as root from the command line (you will
    require the root password):<br>
    <pre style="margin-left: 40px;">/usr/bin/mysql -u root -p</pre>
    Then generate a list of all users and hosts recognized by mySQL:<br>
    <pre style="margin-left: 40px;">mysql&gt; select user, host from mysql.user;</pre>
    <pre style="margin-left: 40px;">+------+---------------------+<br>| user | host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>+------+---------------------+<br>| difx | 10.1.2.45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| difx | 127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| root | 127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| difx | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| root | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | swc02.usno.navy.mil |<br>| difx | swc02.usno.navy.mil |<br>| root | swc02.usno.navy.mil |<br>+------+---------------------+<br>9 rows in set (0.00 sec)</pre>
    In this list somewhere should be the user name you are using paired
    with the GUI host name.&nbsp; Note that mySQL treats user/host pairs
    almost as separate users - you must designate both your user name
    and host as a "user".&nbsp; To do this, the following command will
    both "create" the user/host pair and give it access to all databases
    (note that "grant" is a complex command used for many things - you
    should consult mySQL documentation before using this command with
    reckless abandon):<br>
    <pre style="margin-left: 40px;">mysql&gt; grant all privileges on *.* to 'difx'@'new.host.name';<br>Query OK, 0 rows affected (0.00 sec)</pre>
    You should then see the user/host pair in the user list:<br>
    <pre style="margin-left: 40px;">mysql&gt; select user, host from mysql.user;<br><br>+------+---------------------+<br>| user | host&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>+------+---------------------+<br>| difx | 10.1.2.45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| difx | 127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| root | 127.0.0.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| difx | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| root | localhost&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>| difx | new.host.name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |   &lt;---------------- HERE!!!!<br>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | swc02.usno.navy.mil |<br>| difx | swc02.usno.navy.mil |<br>| root | swc02.usno.navy.mil |<br>+------+---------------------+<br>10 rows in set (0.00 sec)</pre>
    The user/host pair needs its own password specification - even if
    your user name already had a password, this is not enough!&nbsp; To
    specifiy the password for the new user/host pair (or to make sure
    your password is set properly on an existing user/host pair), do the
    following (replaced "PASSWORD" with your new password):<br>
    <pre style="margin-left: 40px;">mysql&gt; set password for 'difx'@'new.host.name'=password( 'PASSWORD' );<br>Query OK, 0 rows affected (0.00 sec)</pre>
    At this point we reach the limits of my personal mySQL knowledge.<br>
    <br>
    <br>
    <h6> <span style="font-weight: bold; font-family: monospace;">&nbsp;&nbsp;&nbsp;
















        Database contains 0 jobs.</span></h6>
    <br>
    This is not an error, however you may encounter this message.&nbsp;
    It simply means there are no jobs queued in the specified
    database.&nbsp; If this is not what you expect (because, for
    instance, you've recently queued something), check the value in the
    "DiFX Database" field.&nbsp; It should match your the name of the
    database where queuing is going on (which is probably "difxdb").<br>
    <h2><a name="EOP_Settings"></a>EOP Settings</h2>
    blah<br>
    <h2><a name="Documentation_Settings"></a>Documentation Settings</h2>
    <p>blkjkdsf<br>
    </p>
  </body>
</html>
