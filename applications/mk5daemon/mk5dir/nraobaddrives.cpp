#include <cstring>
#include "nraobaddrives.h"

// list of drive serial numbers suspected by Conduant to be bad
const char BadDrives[][16] = 
{
	"WCAT1F680094", "WCAT1F680189", "WCAT1F684210", "WCAT1F684516", "WCAT1F684852",
	"WCAT1F685718", "WCAT1F710216", "WCAT1F710447", "WCAT1F710462", "WCAT1F711878",
	"WCAT1F711973", "WCAT1F712265", "WCAT1F712513", "WCAT1F712786", "WCAT1F714050",
	"WCAT1F714477", "WCAT1F714602", "WCAT1F714623", "WCAT1F714744", "WCAT1F714996",
	"WMAUR0243237", "WMAUR0243237", "WMAUR0243649", "WMAUR0243649", "WMAUR0313371",
	"WMAUR0354443", "WMAUR0354443", "WMAUR0359804", "WMAUR0359804", "WMAUR0394175",
	"WMAUR0394175", "WMAUR0419528", "WMAUR0419528", "WMAUR0442207", "WMAUR0451957",
	"WMAUR0458603", "WMAUR0460606", "WMAUR0464438", "WMAUR0472343", "WMAUR0472408",
	"WMAUR0472894", "WMAUR0473827", "WMAUR0475545", "WMAUR0488000", "WMAY00084640",
	"WMAY00096582", "WMAY00111552", "WMAY00112480", "WMAY00112580", "WMAY00112615",
	"WMAY00113146", "WMAY00113374", "WMAY00114132", "WMAY00114358", "WMAY00114629",
	"WMAY00115153", "WMAY00115592", "WMAY00137538", "WMAY00137749", "WMAY00137869",
	"WMAY00137902", "WMAY00137962", "WMAY00138184", "WMAY00138273", "WMAY00138308",
	"WMAY00138380", "WMAY00138407", "WMAY00138506", "WMAY00139095", "WMAY00153805",
	"WMAY00153886", "WMAY00155596", "WMAY00156809", "WMAY00157048", "WMAY00157153",
	"WMAY00157161", "WMAY00158312", "WMAY00159412", "WMAY00159902", "WMAY00160497",
	"WMAY00164892", "WMAY00165628", "WMAY00169676", "WMAY00170530", "WMAY00170661",
	"WMAY00170705", "WMAY00171823", "WMAY00171902", "WMAY00172394", "WMAY00172524",
	"WMAY00172686", "WMAY00172722", "WMAY00172967", "WMAY00173458", "WMAY00173495",
	"WMAY00174003", "WMAY00175431", "WMAY00175669", "WMAY00175725", "WMAY00176033",
	"WMAY00176213", "WMAY00176307", "WMAY00176325", "WMAY00176592", "WMAY00176632",
	"WMAY00176683", "WMAY00177082", "WMAY00177101", "WMAY00177204", "WMAY00177246",
	"WMAY00177657", "WMAY00178307", "WMAY00178569", "WMAY00179442", "WMAY00180833",
	"WMAY00180889", "WMAY00181182", "WMAY00181845", "WMAY00185424", "WMAY00185694",
	"WMAY00679822", "WMAY00681022", "WMAY00681041", "WMAY00681122", "WMAY00681124",
	"WMAY00681143", "WMAY00683042", "WMAY00683054", "WMAY00683073", "WMAY00691170",
	"WMAY00691386", "WMAY00691492", "WMAY00693429", "WMAY00695810", "WMAY00701051",
	"WMAY00701260", "WMAY00701360", "WMAY00701366", "WMAY00701763", "WMAY00702119",
	"WMAY00702999", "WMAY00703017", "WMAY00703029", "WMAY00703145", "WMAY00703208",
	"WMAY00703239", "WMAY00703243", "WMAY00703254", "WMAY00703362", "WMAY00703413",
	"WMAY00703433", "WMAY00703436", "WMAY00703441", "WMAY00703454", "WMAY00703649",
	"WMAY00703674", "WMAY00703677", "WMAY00703693", "WMAY00703727", "WMAY00703756",
	"WMAY00703779", "WMAY00703783", "WMAY00703792", "WMAY00703827", "WMAY00703881",
	"WMAY00703893", "WMAY00703915", "WMAY00703927", "WMAY00703969", "WMAY00704018",
	"WMAY00704028", "WMAY00704051", "WMAY00704107", "WMAY00704120", "WMAY00704208",
	"WMAY00704209", "WMAY00704365", "WMAY00704411", "WMAY00704481", "WMAY00704488",
	"WMAY00704637", "WMAY00704666", "WMAY00704680", "WMAY00704849", "WMAY00704957",
	"WMAY00705081", "WMAY00705113", "WMAY00705154", "WMAY00705378", "WMAY00705379",
	"WMAY00705510", "WMAY00705545", "WMAY00705561", "WMAY00705798", "WMAY00705802",
	"WMAY00705819", "WMAY00705884", "WMAY00705901", "WMAY00705950", "WMAY00706129",
	"WMAY00706401", "WMAY00708061", "WMAY00708065", "WMAY00710591", "WMAY00710613",
	"WMAY00710659", "WMAY00710759", "WMAY00710770", "WMAY00710958", "WMAY00712597",
	"WMAY00713545", "WMAY00713549", "WMAY00713617", "WMAY00715563", "WMAY00721015",
	"WMAY00721065", "WMAY00721097", "WMAY00721117", "WMAY00721125", "WMAY00721130",
	"WMAY00721177", "WMAY00721181", "WMAY00721187", "WMAY00721224", "WMAY00721279",
	"WMAY00721285", "WMAY00721288", "WMAY00721314", "WMAY00721338", "WMAY00721382",
	"WMAY00721411", "WMAY00721429", "WMAY00721436", "WMAY00721440", "WMAY00721520",
	"WMAY00721563", "WMAY00721567", "WMAY00721876", "WMAY00721879", "WMAY00721905",
	"WMAY00721988", "WMAY00722024", "WMAY00722138", "WMAY00722142", "WMAY00722164",
	"WMAY00722198", "WMAY00722199", "WMAY00722219", "WMAY00722221", "WMAY00722270",
	"WMAY00722282", "WMAY00722462", "WMAY00722629", "WMAY00722647", "WMAY00722684",
	"WMAY00722702", "WMAY00722741", "WMAY00722787", "WMAY00722874", "WMAY00722995",
	"WMAY00723039", "WMAY00723100", "WMAY00723199", "WMAY00723200", "WMAY00723232",
	"WMAY00723256", "WMAY00723257", "WMAY00723267", "WMAY00723284", "WMAY00723286",
	"WMAY00723392", "WMAY00723413", "WMAY00723433", "WMAY00723463", "WMAY00723594",
	"WMAY00723619", "WMAY00723649", "WMAY00723782", "WMAY00723792", "WMAY00723823",
	"WMAY00724035", "WMAY00724051", "WMAY00724056", "WMAY00724098", "WMAY00724099",
	"WMAY00724113", "WMAY00724259", "WMAY00724281", "WMAY00724303", "WMAY00724432",
	"WMAY00724447", "WMAY00724449", "WMAY00724450", "WMAY00724461", "WMAY00724475",
	"WMAY00724509", "WMAY00724541", "WMAY00724694", "WMAY00724720", "WMAY00724746",
	"WMAY00724874", "WMAY00724879", "WMAY00724889", "WMAY00724924", "WMAY00725060",
	"WMAY00725071", "WMAY00725073", "WMAY00725089", "WMAY00725093", "WMAY00725095",
	"WMAY00725104", "WMAY00725828", "WMAY00725829", "WMAY00725872", "WMAY00725880",
	"WMAY00725883", "WMAY00726233", "WMAY00746789", "WMAY00756505", "WMAY00760840",
	"WMAY00760853", "WMAY00760860", "WMAY00886226", "WMAY00973005", "WMAY00988319",
	"WMAY01014282", "WMAY01035779", "WMAY01112645", "WMAY01272652", 
	""
};

const char BadDriveRanges[][2][16] =
{
	{ "WCAT1F680000", "WCAT1F689999" },
	{ "WCAT1F710000", "WCAT1F715000" },
	{ "WMAUR0243000", "WMAUR0243999" },
	{ "WMAUR0470000", "WMAUR0479999" },
	{ "WMAY00080000", "WMAY00199999" },
	{ "WMAY00670000", "WMAY00770000" },
	{ "", "" }
};

bool isDriveBad(const char *serNum)
{
	for(int i = 0; BadDrives[i][0]; ++i)
	{
		if(strstr(serNum, BadDrives[i]) != 0)
		{
			return true;
		}
	}

	return false;
}

bool inBadDriveRange(const char *serNum)
{
	for(int i = 0; BadDriveRanges[i][0][0]; ++i)
	{
		if(strcmp(BadDriveRanges[i][0], serNum) < 0 && strcmp(BadDriveRanges[i][1], serNum) > 0)
		{
			return true;
		}
	}

	return false;
}
